module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},33508,a=>{"use strict";var b=a.i(62213);a.s(["X",()=>b.default])},30656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},3688,a=>{"use strict";var b=a.i(72131),c=a.i(72752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},4699,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["default",()=>b])},77991,a=>{"use strict";var b=a.i(4699);a.s(["ChevronDownIcon",()=>b.default])},15618,81560,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>c],15618);let d=(0,b.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>d],81560)},46026,36475,a=>{"use strict";var b=a.i(5050),c=(0,b.createServerReference)("00486a57e5f43d93b55218b61483e00dd113511c1c",b.callServer,void 0,b.findSourceMapURL,"getEvents");a.s(["getEvents",()=>c],46026);var d=(0,b.createServerReference)("40142c92f23600d87e313d4906d006b815904d3584",b.callServer,void 0,b.findSourceMapURL,"deleteEvent");a.s(["deleteEvent",()=>d],36475)},19507,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91119),e=a.i(99570),f=a.i(38246),g=a.i(15618),h=a.i(96221),i=a.i(81560),j=a.i(41675),k=a.i(33508),l=a.i(46026),m=a.i(36475),n=a.i(23292),o=a.i(80701),p=a.i(99209),q=a.i(20146),r=a.i(86304),s=a.i(56711),t=a.i(68114);function u(){let[a,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)();async function B(){u(await (0,l.getEvents)()),w(!1)}async function C(a){confirm("Delete this event?")&&(await (0,m.deleteEvent)(a)).success&&(n.toast.success("Deleted"),B())}(0,c.useEffect)(()=>{B()},[]);let D=a.filter(a=>{if("all"!==x&&a.category!==x)return!1;if(z?.from){let b=new Date(a.date),c=z.from,d=z.to||z.from;if(b.setHours(0,0,0,0),c.setHours(0,0,0,0),d.setHours(23,59,59,999),b<c||b>d)return!1}return!0});return v?(0,b.jsx)("div",{className:"p-8",children:(0,b.jsx)(h.Loader2,{className:"animate-spin"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Events Management"}),(0,b.jsx)(e.Button,{asChild:!0,children:(0,b.jsxs)(f.default,{href:"/admin/events/new",children:[(0,b.jsx)(g.Plus,{className:"mr-2 h-4 w-4"}),"Add Event"]})})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center bg-muted/30 p-4 rounded-lg",children:[(0,b.jsx)("div",{className:"w-full md:w-[200px]",children:(0,b.jsxs)(o.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(o.SelectTrigger,{children:(0,b.jsx)(o.SelectValue,{placeholder:"Filter by Category"})}),(0,b.jsxs)(o.SelectContent,{children:[(0,b.jsx)(o.SelectItem,{value:"all",children:"All Categories"}),["Club Service","Community Service","Professional Service","International Service","DPP","District Events","District Initiatives","Participation","Meetings"].map(a=>(0,b.jsx)(o.SelectItem,{value:a,children:a},a))]})]})}),(0,b.jsx)("div",{className:"w-full md:w-auto",children:(0,b.jsxs)(p.Popover,{children:[(0,b.jsx)(p.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{id:"date",variant:"outline",className:(0,t.cn)("w-full md:w-[240px] justify-start text-left font-normal",!z&&"text-muted-foreground"),children:[(0,b.jsx)(j.Calendar,{className:"mr-2 h-4 w-4"}),z?.from?z.to?(0,b.jsxs)(b.Fragment,{children:[(0,s.format)(z.from,"LLL dd, y")," -"," ",(0,s.format)(z.to,"LLL dd, y")]}):(0,s.format)(z.from,"LLL dd, y"):(0,b.jsx)("span",{children:"Pick a date range"})]})}),(0,b.jsx)(p.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,b.jsx)(q.Calendar,{initialFocus:!0,mode:"range",defaultMonth:z?.from,selected:z,onSelect:A,numberOfMonths:2})})]})}),("all"!==x||z)&&(0,b.jsxs)(e.Button,{variant:"ghost",onClick:()=>{y("all"),A(void 0)},className:"h-10 px-2 lg:px-3",children:["Reset",(0,b.jsx)(k.X,{className:"ml-2 h-4 w-4"})]})]}),(0,b.jsx)("div",{className:"grid gap-3",children:0===D.length?(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No events found matching your filters."}):D.map(a=>(0,b.jsx)(d.Card,{className:"p-4 hover:bg-muted/50 transition-colors",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[(0,b.jsx)("div",{className:"md:col-span-4",children:(0,b.jsx)("h3",{className:"font-semibold text-lg leading-tight truncate",title:a.title,children:a.title})}),(0,b.jsx)("div",{className:"md:col-span-3",children:(0,b.jsx)(r.Badge,{variant:"secondary",className:"whitespace-nowrap",children:a.category})}),(0,b.jsxs)("div",{className:"md:col-span-3 text-muted-foreground text-sm flex items-center",children:[(0,b.jsx)(j.Calendar,{className:"mr-2 h-4 w-4"}),a.date]}),(0,b.jsxs)("div",{className:"md:col-span-2 flex items-center justify-end gap-2",children:[(0,b.jsx)(f.default,{href:`/admin/events/${a.id}`,children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",className:"h-8",children:"Edit"})}),(0,b.jsx)(e.Button,{variant:"destructive",size:"icon",className:"h-8 w-8",onClick:()=>C(a.id),title:"Delete Event",children:(0,b.jsx)(i.Trash2,{className:"h-4 w-4"})})]})]})},a.id))})]})}a.s(["default",()=>u])}];

//# sourceMappingURL=_a90143c8._.js.map