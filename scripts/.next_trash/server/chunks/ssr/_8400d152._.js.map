{"version":3,"sources":["../../../../src/actions/team.ts","../../../../.next-internal/server/app/admin/team/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/db\";\r\nimport { team } from \"@/db/schema\";\r\nimport { eq } from \"drizzle-orm\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function getTeamMembers() {\r\n    try {\r\n        const members = await db.select().from(team).orderBy(team.createdAt);\r\n        return members;\r\n    } catch (error) {\r\n        console.error(\"Failed to fetch team members:\", error);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function addTeamMember(data: {\r\n    name: string;\r\n    role: string;\r\n    bio?: string;\r\n    imageUrl?: string;\r\n    type?: string;\r\n}) {\r\n    try {\r\n        await db.insert(team).values(data);\r\n        revalidatePath(\"/team\");\r\n        revalidatePath(\"/admin/team\");\r\n        return { success: true };\r\n    } catch (error) {\r\n        console.error(\"Failed to add team member:\", error);\r\n        return { success: false, error: \"Database insert failed\" };\r\n    }\r\n}\r\n\r\nexport async function deleteTeamMember(id: number) {\r\n    try {\r\n        await db.delete(team).where(eq(team.id, id));\r\n        revalidatePath(\"/team\");\r\n        revalidatePath(\"/admin/team\");\r\n        return { success: true };\r\n    } catch (error) {\r\n        console.error(\"Failed to delete team member:\", error);\r\n        return { success: false, error: \"Database delete failed\" };\r\n    }\r\n}\r\n","export {getTeamMembers as '007eeb705fa133139ab4d1ef75a4b428c84c895931'} from 'ACTIONS_MODULE0'\nexport {deleteTeamMember as '40f6a8ef5c29997498969f28ac2163738d1199f7f7'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEO,eAAe,IAClB,GAAI,CAEA,OADgB,AACT,MADe,EAAA,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,EAAA,IAAI,EAAE,OAAO,CAAC,EAAA,IAAI,CAAC,SAAS,CAEvE,CAAE,MAAO,EAAO,CAEZ,OADA,QAAQ,KAAK,CAAC,gCAAiC,GACxC,EAAE,AACb,CACJ,CAEO,eAAe,EAAc,CAMnC,EACG,GAAI,CAIA,OAHA,MAAM,EAAA,EAAE,CAAC,MAAM,CAAC,EAAA,IAAI,EAAE,MAAM,CAAC,GAC7B,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,SACf,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,eACR,CAAE,SAAS,CAAK,CAC3B,CAAE,MAAO,EAAO,CAEZ,OADA,QAAQ,KAAK,CAAC,6BAA8B,GACrC,CAAE,SAAS,EAAO,MAAO,wBAAyB,CAC7D,CACJ,CAEO,eAAe,EAAiB,CAAU,EAC7C,GAAI,CAIA,OAHA,MAAM,EAAA,EAAE,CAAC,MAAM,CAAC,EAAA,IAAI,EAAE,KAAK,CAAC,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,EAAA,IAAI,CAAC,EAAE,CAAE,IACxC,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,SACf,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,eACR,CAAE,SAAS,CAAK,CAC3B,CAAE,MAAO,EAAO,CAEZ,OADA,QAAQ,KAAK,CAAC,gCAAiC,GACxC,CAAE,SAAS,EAAO,MAAO,wBAAyB,CAC7D,CACJ,0CAtCsB,EAUA,EAkBA,IA5BA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAUA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAkBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,2GCnCtB,IAAA,EAAA,EAAA,CAAA,CAAA"}