module.exports=[5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},88550,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(54714),h=a.i(99570),i=a.i(41921),j=a.i(66718),k=a.i(66281),l=a.i(5050),m=(0,l.createServerReference)("404c663949dff536d7117ad4a62f83a61b609de4a1",l.callServer,void 0,l.findSourceMapURL,"addGalleryImage"),n=a.i(23292),o=a.i(96221);let p=g.object({caption:g.string().optional(),imageUrl:g.string().min(1,"Image is required")});function q(){let a=(0,d.useRouter)(),[g,l]=(0,c.useState)(!1),q=(0,e.useForm)({resolver:(0,f.zodResolver)(p),defaultValues:{caption:"",imageUrl:""}}),r=async b=>{try{l(!0);let c=await m({imageUrl:b.imageUrl,title:b.caption});if(!c.success)throw Error(c.error);n.toast.success("Photo uploaded successfully"),a.push("/admin/gallery"),a.refresh()}catch(a){console.error(a),n.toast.error("Something went wrong")}finally{l(!1)}};return(0,b.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Upload Photo"}),(0,b.jsx)(i.Form,{...q,children:(0,b.jsxs)("form",{onSubmit:q.handleSubmit(r),className:"space-y-8",children:[(0,b.jsx)(i.FormField,{control:q.control,name:"imageUrl",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Photo"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-4",children:"Upload high quality images from your events."}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(k.ImageUpload,{value:a.value||"",disabled:g,onChange:b=>a.onChange(b),onRemove:()=>a.onChange("")})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:q.control,name:"caption",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsx)(i.FormLabel,{children:"Caption (Optional)"}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{disabled:g,placeholder:"e.g. Installation Ceremony 2024",...a})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsxs)(h.Button,{disabled:g,type:"submit",className:"w-full",children:[g?(0,b.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Upload"]})]})})]})}a.s(["default",()=>q],88550)}];

//# sourceMappingURL=_52a07873._.js.map